!function(){"use strict";var e=JSON.parse('[[{"key":"`","keyUp":"~","keyCode":192,"capsLock":false,"code":"Backquote","ru":{"key":"ё","keyUp":"Ё","capsLock":true}},{"key":"1","keyUp":"!","keyCode":49,"capsLock":false,"code":"Digit1","ru":{"key":"1","keyUp":"!","capsLock":false}},{"key":"2","keyUp":"@","keyCode":50,"capsLock":false,"code":"Digit2","ru":{"key":"2","keyUp":"\\"","capsLock":false}},{"key":"3","keyUp":"#","keyCode":51,"capsLock":false,"code":"Digit3","ru":{"key":"3","keyUp":"№","capsLock":false}},{"key":"4","keyUp":"$","keyCode":52,"capsLock":false,"code":"Digit4","ru":{"key":"4","keyUp":";","capsLock":false}},{"key":"5","keyUp":"%","keyCode":53,"capsLock":false,"code":"Digit5","ru":{"key":"5","keyUp":"%","capsLock":false}},{"key":"6","keyUp":"^","keyCode":54,"capsLock":false,"code":"Digit6","ru":{"key":"6","keyUp":":","capsLock":false}},{"key":"7","keyUp":"&","keyCode":55,"capsLock":false,"code":"Digit7","ru":{"key":"7","keyUp":"?","capsLock":false}},{"key":"8","keyUp":"*","keyCode":56,"capsLock":false,"code":"Digit8","ru":{"key":"8","keyUp":"*","capsLock":false}},{"key":"9","keyUp":"(","keyCode":57,"capsLock":false,"code":"Digit9","ru":{"key":"9","keyUp":"(","capsLock":false}},{"key":"0","keyUp":")","keyCode":48,"capsLock":false,"code":"Digit0","ru":{"key":"0","keyUp":"\\"","capsLock":false}},{"key":"-","keyUp":"_","keyCode":109,"capsLock":false,"code":"NumpadSubtract","ru":{"key":"-","keyUp":"_","capsLock":false}},{"key":"=","keyUp":"+","keyCode":61,"capsLock":false,"code":"Equal","ru":{"key":"=","keyUp":"+","capsLock":false}},{"key":"Backspace","keyUp":false,"keyCode":8,"which":8,"code":"Backspace","ru":false}],[{"key":"Tab","keyUp":false,"keyCode":9,"which":9,"code":"Tab","ru":false},{"key":"q","keyUp":"Q","keyCode":81,"capsLock":true,"code":"KeyQ","ru":{"key":"й","keyUp":"Й","capsLock":true}},{"key":"w","keyUp":"W","keyCode":50,"capsLock":true,"code":"KeyW","ru":{"key":"ц","keyUp":"Ц","capsLock":true}},{"key":"e","keyUp":"E","keyCode":69,"capsLock":true,"code":"KeyE","ru":{"key":"у","keyUp":"У","capsLock":true}},{"key":"r","keyUp":"R","keyCode":82,"capsLock":true,"code":"KeyR","ru":{"key":"к","keyUp":"К","capsLock":true}},{"key":"t","keyUp":"T","keyCode":84,"capsLock":true,"code":"KeyT","ru":{"key":"е","keyUp":"Е","capsLock":true}},{"key":"y","keyUp":"Y","keyCode":89,"capsLock":true,"code":"KeyY","ru":{"key":"н","keyUp":"Н","capsLock":true}},{"key":"u","keyUp":"U","keyCode":85,"capsLock":true,"code":"KeyU","ru":{"key":"г","keyUp":"Г","capsLock":true}},{"key":"i","keyUp":"I","keyCode":73,"capsLock":true,"code":"KeyI","ru":{"key":"ш","keyUp":"Ш","capsLock":true}},{"key":"o","keyUp":"O","keyCode":79,"capsLock":true,"code":"KeyO","ru":{"key":"щ","keyUp":"Щ","capsLock":true}},{"key":"p","keyUp":"P","keyCode":80,"capsLock":true,"code":"KeyP","ru":{"key":"з","keyUp":"З","capsLock":true}},{"key":"[","keyUp":"{","keyCode":160,"capsLock":false,"code":"BracketLeft","ru":{"key":"х","keyUp":"Х","capsLock":true}},{"key":"]","keyUp":"}","keyCode":221,"capsLock":false,"code":"BracketRight","ru":{"key":"ъ","keyUp":"Ъ","capsLock":true}},{"key":"\\\\","keyUp":"|","keyCode":220,"capsLock":false,"code":"Backslash","ru":false}],[{"key":"Caps Lock","keyUp":false,"keyCode":20,"capsLock":false,"code":"CapsLock","ru":false},{"key":"a","keyUp":"A","keyCode":65,"capsLock":true,"code":"KeyA","ru":{"key":"ф","keyUp":"Ф","capsLock":true}},{"key":"s","keyUp":"S","keyCode":83,"capsLock":true,"code":"KeyS","ru":{"key":"ы","keyUp":"Ы","capsLock":true}},{"key":"d","keyUp":"D","keyCode":68,"capsLock":true,"code":"KeyD","ru":{"key":"в","keyUp":"В","capsLock":true}},{"key":"f","keyUp":"F","keyCode":70,"capsLock":true,"code":"KeyF","ru":{"key":"а","keyUp":"А","capsLock":true}},{"key":"g","keyUp":"G","keyCode":71,"capsLock":true,"code":"KeyG","ru":{"key":"п","keyUp":"П","capsLock":true}},{"key":"h","keyUp":"H","keyCode":72,"capsLock":true,"code":"KeyH","ru":{"key":"р","keyUp":"Р","capsLock":true}},{"key":"j","keyUp":"J","keyCode":74,"capsLock":true,"code":"KeyJ","ru":{"key":"о","keyUp":"О","capsLock":true}},{"key":"k","keyUp":"K","keyCode":75,"capsLock":true,"code":"KeyK","ru":{"key":"л","keyUp":"Л","capsLock":true}},{"key":"l","keyUp":"L","keyCode":76,"capsLock":true,"code":"KeyL","ru":{"key":"д","keyUp":"Д","capsLock":true}},{"key":";","keyUp":":","keyCode":59,"capsLock":false,"code":"Semicolon","ru":{"key":"ж","keyUp":"Ж","capsLock":true}},{"key":"\'","keyUp":"\\"","keyCode":222,"capsLock":false,"code":"Quote","ru":{"key":"э","keyUp":"Э","capsLock":true}},{"key":"Enter","keyUp":false,"keyCode":13,"capsLock":false,"code":"Enter","ru":false}],[{"key":"Shift","keyUp":false,"keyCode":16,"capsLock":false,"code":"ShiftLeft","ru":false},{"key":"z","keyUp":"Z","keyCode":90,"capsLock":true,"code":"KeyZ","ru":{"key":"я","keyUp":"Я","capsLock":true}},{"key":"x","keyUp":"X","keyCode":88,"capsLock":true,"code":"KeyX","ru":{"key":"ч","keyUp":"Ч","capsLock":true}},{"key":"c","keyUp":"C","keyCode":67,"capsLock":true,"code":"KeyC","ru":{"key":"с","keyUp":"С","capsLock":true}},{"key":"v","keyUp":"V","keyCode":86,"capsLock":true,"code":"KeyV","ru":{"key":"м","keyUp":"М","capsLock":true}},{"key":"b","keyUp":"B","keyCode":66,"capsLock":true,"code":"KeyB","ru":{"key":"и","keyUp":"И","capsLock":true}},{"key":"n","keyUp":"N","keyCode":78,"capsLock":true,"code":"KeyN","ru":{"key":"т","keyUp":"Т","capsLock":true}},{"key":"m","keyUp":"M","keyCode":77,"capsLock":true,"code":"KeyM","ru":{"key":"ь","keyUp":"Ь","capsLock":true}},{"key":",","keyUp":"&lt;","keyCode":108,"capsLock":false,"code":"Comma","ru":{"key":"б","keyUp":"Б","capsLock":true}},{"key":".","keyUp":"&gt;","keyCode":190,"capsLock":false,"code":"Period","ru":{"key":"ю","keyUp":"Ю","capsLock":true}},{"key":"/","keyUp":"?","keyCode":191,"capsLock":false,"code":"Slash","ru":{"key":".","keyUp":","}},{"key":"Shift","keyUp":false,"keyCode":16,"capsLock":false,"code":"ShiftRight","ru":{"key":"Shift","keyUp":"Shift"}}],[{"key":"Ctrl","keyUp":false,"keyCode":17,"capsLock":false,"code":"ControlLeft","ru":false},{"key":"Meta","keyUp":false,"keyCode":91,"capsLock":false,"code":"MetaLeft","ru":false},{"key":"Alt","keyUp":false,"keyCode":18,"capsLock":false,"code":"AltLeft","ru":false},{"key":" ","keyUp":false,"keyCode":32,"capsLock":false,"code":"Space","ru":false},{"key":"Alt","keyUp":false,"keyCode":18,"capsLock":false,"code":"AltRight","ru":false},{"key":"Ctrl","keyUp":false,"keyCode":17,"capsLock":false,"code":"ControlRight","ru":false},{"key":"&larr;","keyUp":false,"keyCode":37,"capsLock":false,"code":"ArrowLeft","ru":false},{"key":"&uarr;","keyUp":false,"keyCode":38,"capsLock":false,"code":"ArrowUp","ru":false},{"key":"&darr;","keyUp":false,"keyCode":40,"capsLock":false,"code":"ArrowDown","ru":false},{"key":"&rarr;","keyUp":false,"keyCode":39,"capsLock":false,"code":"ArrowRight","ru":false}]]');function t(e,t){k(e,t),t.add(e)}function a(e,t,a){k(e,t),t.set(e,a)}function k(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,a){return function(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}(e,o(e,t,"set"),a),a}function c(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,o(e,t,"get"))}function o(e,t,a){if(!t.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(e)}function y(e,t,a){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return a}var r=new WeakMap,i=new WeakMap,p=new WeakMap,d=new WeakMap,n=new WeakSet,l=new WeakSet,u=new WeakSet,h=new WeakSet,L=new WeakSet,f=new WeakSet,U=new WeakSet,C=new WeakSet;function g(e,t,a){e.addEventListener("click",(e=>{if(e.target.classList.contains("key"))switch(e.target.classList.add("key--clicked"),setTimeout((()=>{e.target.classList.remove("key--clicked")}),100),e.target.dataset.keyCode){case"Enter":s(this,p,c(this,p)+"\n"),t.innerHTML=c(this,p);break;case"Backspace":y(this,h,T).call(this),t.innerHTML=c(this,p);break;case"ShiftLeft":case"ShiftRight":c(this,i)&&s(this,i,!c(this,i)),y(this,L,M).call(this,a),s(this,r,!c(this,r));break;case"CapsLock":c(this,r)&&s(this,r,!c(this,r)),y(this,f,b).call(this,a),s(this,i,!c(this,i));break;case"Tab":s(this,p,c(this,p)+"\t"),t.innerHTML=c(this,p);break;case"MetaLeft":y(this,U,S).call(this,a);break;case"ControlLeft":case"AltLeft":case"ControlRight":case"AltRight":break;default:s(this,p,c(this,p)+e.target.innerHTML),t.innerHTML=c(this,p)}}))}function w(e){document.addEventListener("keydown",(t=>{t.preventDefault(),this.keys.forEach((a=>{if(t.code===a.dataset.keyCode)switch(a.classList.add("key--clicked"),setTimeout((()=>{a.classList.remove("key--clicked")}),100),a.dataset.keyCode){case"Enter":s(this,p,c(this,p)+"\n"),e.innerHTML=c(this,p);break;case"Backspace":y(this,h,T).call(this),e.innerHTML=c(this,p);break;case"ShiftLeft":case"ShiftRight":c(this,i)&&s(this,i,!c(this,i)),y(this,L,M).call(this,this.keys),s(this,r,!c(this,r));break;case"CapsLock":c(this,r)&&s(this,r,!c(this,r)),y(this,f,b).call(this,this.keys),s(this,i,!c(this,i));break;case"Tab":s(this,p,c(this,p)+"\t"),e.innerHTML=c(this,p);break;case"ControlLeft":case"AltLeft":t.altKey&&t.ctrlKey&&y(this,U,S).call(this,this.keys);break;case"ControlRight":case"AltRight":case"MetaLeft":break;default:s(this,p,c(this,p)+a.innerHTML),e.innerHTML=c(this,p)}}))}))}function m(e){const t=document.createElement("span");return t.classList.add("key"),t.dataset.keyCode=e.code,t.dataset.key=e.key,t.dataset.keyRu=e.ru?e.ru.key:e.key,t.dataset.keyUp=e.keyUp?e.keyUp:e.key,t.dataset.keyUpRu=e.ru?e.ru.keyUp:e.key,t.dataset.capsLock=e.capsLock?e.keyUp:e.key,e.ru?t.dataset.capsLockRu=e.ru.capsLock?e.ru.keyUp:e.ru.key:t.dataset.capsLockRu=e.key,"en"===this.lang?t.innerHTML=t.dataset.key:t.innerHTML=t.dataset.keyRu,t}function T(){let e=c(this,p).length-1;if(";"===c(this,p).charAt(e))return e=c(this,p).length-4,void s(this,p,c(this,p).substring(0,e));s(this,p,c(this,p).substring(0,e))}function M(e){e.forEach((e=>{c(this,r)||"en"!==this.lang||(e.innerHTML=e.dataset.keyUp),c(this,r)&&"en"===this.lang&&(e.innerHTML=e.dataset.key),c(this,r)||"ru"!==this.lang||(e.innerHTML=e.dataset.keyUpRu),c(this,r)&&"ru"===this.lang&&(e.innerHTML=e.dataset.keyRu)}))}function b(e){e.forEach((e=>{c(this,i)||"en"!==this.lang||(e.innerHTML=e.dataset.capsLock),c(this,i)&&"en"===this.lang&&(e.innerHTML=e.dataset.key),c(this,i)||"ru"!==this.lang||(e.innerHTML=e.dataset.capsLockRu),c(this,i)&&"ru"===this.lang&&(e.innerHTML=e.dataset.keyRu)}))}function S(e){console.log(this.lang),e.forEach((e=>c(this,i)?("en"===this.lang&&(e.innerHTML=e.dataset.capsLockRu),void("ru"===this.lang&&(e.innerHTML=e.dataset.capsLock))):c(this,r)?("en"===this.lang&&(e.innerHTML=e.dataset.keyUpRu),void("ru"===this.lang&&(e.innerHTML=e.dataset.keyUp))):("en"===this.lang&&(e.innerHTML=e.dataset.keyRu),void("ru"===this.lang&&(e.innerHTML=e.dataset.key))))),this.lang="en"===this.lang?"ru":"en",y(this,C,E).call(this)}function E(){localStorage.setItem("lang",this.lang)}const K=document.createElement("div");K.classList.add("modal");const H=document.createElement("span");H.classList.add("modal__btn"),H.innerText="x";const v=document.createElement("ul");v.classList.add("modal__list"),["Клавиатура создавалась на Windows",'Для смены языка клавиша "META" на экранной клавиатуре и сочетание "Ctrl" + "Alt" на фзической'].forEach((e=>{const t=document.createElement("li");t.innerText=e,t.classList.add("modal__list-item"),v.append(t)})),H.addEventListener("click",(()=>{K.classList.add("modal--none")})),v.append(H),K.append(v);const R=document.querySelector("body"),A=document.createElement("div");A.classList.add("keyboard");const D=document.createElement("textarea");D.readOnly=!0,D.classList.add("keyboard-aria");const W="ru"===localStorage.getItem("lang")?"ru":"en",B=new class{constructor(k,s){t(this,C),t(this,U),t(this,f),t(this,L),t(this,h),t(this,u),t(this,l),t(this,n),a(this,r,{writable:!0,value:!1}),a(this,i,{writable:!0,value:!1}),a(this,p,{writable:!0,value:""}),a(this,d,{writable:!0,value:new Set}),this.data=e,this.keys=[],this.textArea=k,this.lang=s}init(e){this.data.forEach(((t,a)=>{const k=document.createElement("div");k.classList.add("keys-row",`keys-row-${a}`),t.forEach((e=>{const t=y(this,u,m).call(this,e);y(this,n,g).call(this,t,this.textArea,this.keys),k.appendChild(t),this.keys.push(t)})),e.appendChild(k)})),y(this,l,w).call(this,this.textArea);const t=document.querySelector('[data-key-code="ArrowUp"]'),a=document.querySelector('[data-key-code="ArrowDown"]'),k=document.querySelector('[data-key-code="ArrowRight"]'),s=document.createElement("span");s.classList.add("arrows-container"),s.appendChild(t),s.appendChild(a),k.before(s)}}(D,W);R.appendChild(D),R.appendChild(A),R.appendChild(K),B.init(A)}();